{% extends "app/layout.html" %}

{% load staticfiles %}
{% load truncatesmart %}

{% block content %}

<div class="container">
    <div class="row">
        <h1>Search Events</h1>
    </div>

    <form method="get">
        {{ filter.form.as_p }}
        <button type="submit" class="btn btn-default waves-effect waves-light">Search</button>
    </form>

    <h1>Results</h1>
    <table class="striped highlight">
        <thead>
            <tr>
                <td>Category</td>
                <td>Name</td>
                <td>Description</td>
            </tr>
        </thead>

        <tbody>
            {% for event in filter.qs %}
                <tr>
                    <td>{{ event.category }}</td>
                    <td><a href="/event/{{event.id}}">{{ event.name }}</a></td>
                    <td>{{ event.description|truncatesmart:90 }} </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}